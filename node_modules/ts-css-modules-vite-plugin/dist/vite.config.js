"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const plugin_react_1 = __importDefault(require("@vitejs/plugin-react"));
const vite_plugin_svgr_1 = __importDefault(require("vite-plugin-svgr"));
const vite_1 = require("vite");
const vite_plugin_sass_dts_1 = __importDefault(require("vite-plugin-sass-dts"));
const vite_plugin_dts_1 = __importDefault(require("vite-plugin-dts"));
const vite_tsconfig_paths_1 = __importDefault(require("vite-tsconfig-paths"));
const pkg = require("./package.json");
// @ts-ignore
const path_1 = __importDefault(require("path"));
exports.default = (0, vite_1.defineConfig)({
    plugins: [
        (0, plugin_react_1.default)(),
        (0, vite_plugin_svgr_1.default)({
            svgrOptions: {
                exportType: 'named', jsxRuntime: 'automatic'
            }
        }),
        (0, vite_tsconfig_paths_1.default)(),
        (0, vite_plugin_sass_dts_1.default)({
            global: {
                generate: true,
                outFile: path_1.default.resolve("/Users/nicoledodge/wip/node-core/node_modules/@drop-in-gaming/core", "./src/style.d.ts"),
            },
        }),
        (0, vite_plugin_dts_1.default)({
            insertTypesEntry: true
        }),
    ],
    resolve: {
        alias: [
        /// { find: '@', replacement: path.resolve(__dirname, 'src') },
        ]
    },
    css: {
        preprocessorOptions: {
            scss: {
                importer(...args) {
                    return {
                        file: `${path_1.default.resolve(__dirname, './src')}`
                    };
                }
            }
        },
        modules: {
            localsConvention: 'camelCase'
        }
    },
    build: {
        assetsDir: 'src/assets',
        sourcemap: true,
        lib: {
            entry: path_1.default.resolve(__dirname, 'src/index.ts'),
            name: '@drop-in-gaming/core',
            formats: ['es', 'umd', 'cjs'],
            fileName: (format) => format === 'es' ? `core.${format}.jsx` : `core.${format}.js`,
        },
        rollupOptions: {
            external: [...Object.keys(pkg.peerDependencies)],
            output: {
                globals: {
                    react: 'React',
                    'react-dom': 'ReactDOM',
                    'styled-components': 'styled',
                    axios: 'axios',
                    'axios-cache-adapter': 'axios-cache-adapter',
                },
                minifyInternalExports: false
            },
        },
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml0ZS5jb25maWcudHMiLCJzb3VyY2VzIjpbInZpdGUuY29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsd0VBQXlDO0FBQ3pDLHdFQUFvQztBQUNwQywrQkFBb0M7QUFDcEMsZ0ZBQTBDO0FBQzFDLHNFQUFrQztBQUNsQyw4RUFBZ0Q7QUFHaEQsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFFdEMsYUFBYTtBQUNiLGdEQUF3QjtBQUV4QixrQkFBZSxJQUFBLG1CQUFZLEVBQUM7SUFDeEIsT0FBTyxFQUFFO1FBQ0wsSUFBQSxzQkFBSyxHQUFFO1FBQ1AsSUFBQSwwQkFBSSxFQUFDO1lBQ0QsV0FBVyxFQUFFO2dCQUNULFVBQVUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFdBQVc7YUFDL0M7U0FDSixDQUFDO1FBQ0YsSUFBQSw2QkFBYSxHQUFFO1FBQ2YsSUFBQSw4QkFBTyxFQUFDO1lBQ0osTUFBTSxFQUFFO2dCQUNKLFFBQVEsRUFBRSxJQUFJO2dCQUNkLE9BQU8sRUFBRSxjQUFJLENBQUMsT0FBTyxDQUFDLG9FQUFvRSxFQUFFLGtCQUFrQixDQUFDO2FBQ2xIO1NBQ0osQ0FBQztRQUNGLElBQUEseUJBQUcsRUFBQztZQUNBLGdCQUFnQixFQUFFLElBQUk7U0FDekIsQ0FBQztLQUNMO0lBQ0QsT0FBTyxFQUFFO1FBQ0wsS0FBSyxFQUFFO1FBQ0gsK0RBQStEO1NBQ2xFO0tBQ0o7SUFDRCxHQUFHLEVBQUU7UUFDRCxtQkFBbUIsRUFBRTtZQUNqQixJQUFJLEVBQUU7Z0JBQ0YsUUFBUSxDQUFDLEdBQUcsSUFBSTtvQkFDWixPQUFPO3dCQUNILElBQUksRUFBRSxHQUFHLGNBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFO3FCQUM5QyxDQUFDO2dCQUNOLENBQUM7YUFDSjtTQUNKO1FBQ0QsT0FBTyxFQUFFO1lBQ0wsZ0JBQWdCLEVBQUUsV0FBVztTQUNoQztLQUNKO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsU0FBUyxFQUFFLFlBQVk7UUFDdkIsU0FBUyxFQUFFLElBQUk7UUFDZixHQUFHLEVBQUU7WUFDRCxLQUFLLEVBQUUsY0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDO1lBQzlDLElBQUksRUFBRSxzQkFBc0I7WUFDNUIsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUM7WUFDN0IsUUFBUSxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLE1BQU0sTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLE1BQU0sS0FBSztTQUNyRjtRQUNELGFBQWEsRUFBRTtZQUNYLFFBQVEsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNoRCxNQUFNLEVBQUU7Z0JBQ0osT0FBTyxFQUFFO29CQUNMLEtBQUssRUFBRSxPQUFPO29CQUNkLFdBQVcsRUFBRSxVQUFVO29CQUN2QixtQkFBbUIsRUFBRSxRQUFRO29CQUM3QixLQUFLLEVBQUUsT0FBTztvQkFDZCxxQkFBcUIsRUFBRSxxQkFBcUI7aUJBQy9DO2dCQUNELHFCQUFxQixFQUFFLEtBQUs7YUFDL0I7U0FDSjtLQUNKO0NBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0JztcbmltcG9ydCBzdmdyIGZyb20gJ3ZpdGUtcGx1Z2luLXN2Z3InO1xuaW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSAndml0ZSc7XG5pbXBvcnQgc2Fzc0R0cyBmcm9tICd2aXRlLXBsdWdpbi1zYXNzLWR0cydcbmltcG9ydCBkdHMgZnJvbSAndml0ZS1wbHVnaW4tZHRzJztcbmltcG9ydCB0c2NvbmZpZ1BhdGhzIGZyb20gJ3ZpdGUtdHNjb25maWctcGF0aHMnO1xuXG5cbmNvbnN0IHBrZyA9IHJlcXVpcmUoXCIuL3BhY2thZ2UuanNvblwiKTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyh7XG4gICAgcGx1Z2luczogW1xuICAgICAgICByZWFjdCgpLFxuICAgICAgICBzdmdyKHtcbiAgICAgICAgICAgIHN2Z3JPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgZXhwb3J0VHlwZTogJ25hbWVkJywganN4UnVudGltZTogJ2F1dG9tYXRpYydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHRzY29uZmlnUGF0aHMoKSxcbiAgICAgICAgc2Fzc0R0cyh7XG4gICAgICAgICAgICBnbG9iYWw6IHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvdXRGaWxlOiBwYXRoLnJlc29sdmUoXCIvVXNlcnMvbmljb2xlZG9kZ2Uvd2lwL25vZGUtY29yZS9ub2RlX21vZHVsZXMvQGRyb3AtaW4tZ2FtaW5nL2NvcmVcIiwgXCIuL3NyYy9zdHlsZS5kLnRzXCIpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGR0cyh7XG4gICAgICAgICAgICBpbnNlcnRUeXBlc0VudHJ5OiB0cnVlXG4gICAgICAgIH0pLFxuICAgIF0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgICBhbGlhczogW1xuICAgICAgICAgICAgLy8vIHsgZmluZDogJ0AnLCByZXBsYWNlbWVudDogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ3NyYycpIH0sXG4gICAgICAgIF1cbiAgICB9LFxuICAgIGNzczoge1xuICAgICAgICBwcmVwcm9jZXNzb3JPcHRpb25zOiB7XG4gICAgICAgICAgICBzY3NzOiB7XG4gICAgICAgICAgICAgICAgaW1wb3J0ZXIoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogYCR7cGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4vc3JjJyl9YFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbW9kdWxlczoge1xuICAgICAgICAgICAgbG9jYWxzQ29udmVudGlvbjogJ2NhbWVsQ2FzZSdcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYnVpbGQ6IHtcbiAgICAgICAgYXNzZXRzRGlyOiAnc3JjL2Fzc2V0cycsXG4gICAgICAgIHNvdXJjZW1hcDogdHJ1ZSxcbiAgICAgICAgbGliOiB7XG4gICAgICAgICAgICBlbnRyeTogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ3NyYy9pbmRleC50cycpLFxuICAgICAgICAgICAgbmFtZTogJ0Bkcm9wLWluLWdhbWluZy9jb3JlJyxcbiAgICAgICAgICAgIGZvcm1hdHM6IFsnZXMnLCAndW1kJywgJ2NqcyddLFxuICAgICAgICAgICAgZmlsZU5hbWU6IChmb3JtYXQpID0+IGZvcm1hdCA9PT0gJ2VzJyA/IGBjb3JlLiR7Zm9ybWF0fS5qc3hgIDogYGNvcmUuJHtmb3JtYXR9LmpzYCxcbiAgICAgICAgfSxcbiAgICAgICAgcm9sbHVwT3B0aW9uczoge1xuICAgICAgICAgICAgZXh0ZXJuYWw6IFsuLi5PYmplY3Qua2V5cyhwa2cucGVlckRlcGVuZGVuY2llcyldLFxuICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsczoge1xuICAgICAgICAgICAgICAgICAgICByZWFjdDogJ1JlYWN0JyxcbiAgICAgICAgICAgICAgICAgICAgJ3JlYWN0LWRvbSc6ICdSZWFjdERPTScsXG4gICAgICAgICAgICAgICAgICAgICdzdHlsZWQtY29tcG9uZW50cyc6ICdzdHlsZWQnLFxuICAgICAgICAgICAgICAgICAgICBheGlvczogJ2F4aW9zJyxcbiAgICAgICAgICAgICAgICAgICAgJ2F4aW9zLWNhY2hlLWFkYXB0ZXInOiAnYXhpb3MtY2FjaGUtYWRhcHRlcicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtaW5pZnlJbnRlcm5hbEV4cG9ydHM6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH1cbn0pO1xuIl19