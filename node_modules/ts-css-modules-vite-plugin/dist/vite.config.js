"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const plugin_react_1 = __importDefault(require("@vitejs/plugin-react"));
const vite_plugin_svgr_1 = __importDefault(require("vite-plugin-svgr"));
const vite_1 = require("vite");
const vite_plugin_sass_dts_1 = __importDefault(require("vite-plugin-sass-dts"));
const vite_plugin_dts_1 = __importDefault(require("vite-plugin-dts"));
const vite_tsconfig_paths_1 = __importDefault(require("vite-tsconfig-paths"));
const pkg = require("./package.json");
// @ts-ignore
const path_1 = __importDefault(require("path"));
exports.default = (0, vite_1.defineConfig)({
    plugins: [
        (0, plugin_react_1.default)(),
        (0, vite_plugin_svgr_1.default)({
            svgrOptions: {
                exportType: 'named', jsxRuntime: 'automatic'
            }
        }),
        (0, vite_tsconfig_paths_1.default)(),
        (0, vite_plugin_sass_dts_1.default)({
            global: {
                generate: true,
                outFile: path_1.default.resolve("/Users/richardmiles/IdeaProjects/node-core/packages/core", "./src/style.d.ts"),
            },
        }),
        (0, vite_plugin_dts_1.default)({
            insertTypesEntry: true
        }),
    ],
    resolve: {
        alias: [
        /// { find: '@', replacement: path.resolve(__dirname, 'src') },
        ]
    },
    css: {
        preprocessorOptions: {
            scss: {
                importer(...args) {
                    return {
                        file: `${path_1.default.resolve(__dirname, './src')}`
                    };
                }
            }
        },
        modules: {
            localsConvention: 'camelCase'
        }
    },
    build: {
        assetsDir: 'src/assets',
        sourcemap: true,
        minify: false,
        lib: {
            entry: path_1.default.resolve(__dirname, 'src/index.ts'),
            name: '@drop-in-gaming/core',
            formats: ['es', 'umd', 'cjs'],
            fileName: (format) => format === 'es' ? `core.${format}.jsx` : `core.${format}.js`,
        },
        rollupOptions: {
            external: [
                ...Object.keys(pkg.peerDependencies)
            ],
            output: {
                globals: {
                    react: 'React',
                    'react-dom': 'ReactDOM',
                    'styled-components': 'styled',
                    axios: 'axios',
                    'axios-cache-adapter': 'axios-cache-adapter',
                },
                minifyInternalExports: false
            },
        },
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml0ZS5jb25maWcudHMiLCJzb3VyY2VzIjpbInZpdGUuY29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsd0VBQXlDO0FBQ3pDLHdFQUFvQztBQUNwQywrQkFBb0M7QUFDcEMsZ0ZBQTBDO0FBQzFDLHNFQUFrQztBQUNsQyw4RUFBZ0Q7QUFHaEQsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFFdEMsYUFBYTtBQUNiLGdEQUF3QjtBQUV4QixrQkFBZSxJQUFBLG1CQUFZLEVBQUM7SUFDeEIsT0FBTyxFQUFFO1FBQ0wsSUFBQSxzQkFBSyxHQUFFO1FBQ1AsSUFBQSwwQkFBSSxFQUFDO1lBQ0QsV0FBVyxFQUFFO2dCQUNULFVBQVUsRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFdBQVc7YUFDL0M7U0FDSixDQUFDO1FBQ0YsSUFBQSw2QkFBYSxHQUFFO1FBQ2YsSUFBQSw4QkFBTyxFQUFDO1lBQ0osTUFBTSxFQUFFO2dCQUNKLFFBQVEsRUFBRSxJQUFJO2dCQUNkLE9BQU8sRUFBRSxjQUFJLENBQUMsT0FBTyxDQUFDLDBEQUEwRCxFQUFFLGtCQUFrQixDQUFDO2FBQ3hHO1NBQ0osQ0FBQztRQUNGLElBQUEseUJBQUcsRUFBQztZQUNBLGdCQUFnQixFQUFFLElBQUk7U0FDekIsQ0FBQztLQUNMO0lBQ0QsT0FBTyxFQUFFO1FBQ0wsS0FBSyxFQUFFO1FBQ0gsK0RBQStEO1NBQ2xFO0tBQ0o7SUFDRCxHQUFHLEVBQUU7UUFDRCxtQkFBbUIsRUFBRTtZQUNqQixJQUFJLEVBQUU7Z0JBQ0YsUUFBUSxDQUFDLEdBQUcsSUFBSTtvQkFDWixPQUFPO3dCQUNILElBQUksRUFBRSxHQUFHLGNBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFO3FCQUM5QyxDQUFDO2dCQUNOLENBQUM7YUFDSjtTQUNKO1FBQ0QsT0FBTyxFQUFFO1lBQ0wsZ0JBQWdCLEVBQUUsV0FBVztTQUNoQztLQUNKO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsU0FBUyxFQUFFLFlBQVk7UUFDdkIsU0FBUyxFQUFFLElBQUk7UUFDZixNQUFNLEVBQUUsS0FBSztRQUNiLEdBQUcsRUFBRTtZQUNELEtBQUssRUFBRSxjQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxjQUFjLENBQUM7WUFDOUMsSUFBSSxFQUFFLHNCQUFzQjtZQUM1QixPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQztZQUM3QixRQUFRLEVBQUUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsTUFBTSxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsTUFBTSxLQUFLO1NBQ3JGO1FBQ0QsYUFBYSxFQUFFO1lBQ1gsUUFBUSxFQUFFO2dCQUNOLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7YUFDdkM7WUFDRCxNQUFNLEVBQUU7Z0JBQ0osT0FBTyxFQUFFO29CQUNMLEtBQUssRUFBRSxPQUFPO29CQUNkLFdBQVcsRUFBRSxVQUFVO29CQUN2QixtQkFBbUIsRUFBRSxRQUFRO29CQUM3QixLQUFLLEVBQUUsT0FBTztvQkFDZCxxQkFBcUIsRUFBRSxxQkFBcUI7aUJBQy9DO2dCQUNELHFCQUFxQixFQUFFLEtBQUs7YUFDL0I7U0FDSjtLQUNKO0NBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0JztcbmltcG9ydCBzdmdyIGZyb20gJ3ZpdGUtcGx1Z2luLXN2Z3InO1xuaW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSAndml0ZSc7XG5pbXBvcnQgc2Fzc0R0cyBmcm9tICd2aXRlLXBsdWdpbi1zYXNzLWR0cydcbmltcG9ydCBkdHMgZnJvbSAndml0ZS1wbHVnaW4tZHRzJztcbmltcG9ydCB0c2NvbmZpZ1BhdGhzIGZyb20gJ3ZpdGUtdHNjb25maWctcGF0aHMnO1xuXG5cbmNvbnN0IHBrZyA9IHJlcXVpcmUoXCIuL3BhY2thZ2UuanNvblwiKTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyh7XG4gICAgcGx1Z2luczogW1xuICAgICAgICByZWFjdCgpLFxuICAgICAgICBzdmdyKHtcbiAgICAgICAgICAgIHN2Z3JPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgZXhwb3J0VHlwZTogJ25hbWVkJywganN4UnVudGltZTogJ2F1dG9tYXRpYydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHRzY29uZmlnUGF0aHMoKSxcbiAgICAgICAgc2Fzc0R0cyh7XG4gICAgICAgICAgICBnbG9iYWw6IHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvdXRGaWxlOiBwYXRoLnJlc29sdmUoXCIvVXNlcnMvcmljaGFyZG1pbGVzL0lkZWFQcm9qZWN0cy9ub2RlLWNvcmUvcGFja2FnZXMvY29yZVwiLCBcIi4vc3JjL3N0eWxlLmQudHNcIiksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgZHRzKHtcbiAgICAgICAgICAgIGluc2VydFR5cGVzRW50cnk6IHRydWVcbiAgICAgICAgfSksXG4gICAgXSxcbiAgICByZXNvbHZlOiB7XG4gICAgICAgIGFsaWFzOiBbXG4gICAgICAgICAgICAvLy8geyBmaW5kOiAnQCcsIHJlcGxhY2VtZW50OiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnc3JjJykgfSxcbiAgICAgICAgXVxuICAgIH0sXG4gICAgY3NzOiB7XG4gICAgICAgIHByZXByb2Nlc3Nvck9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNjc3M6IHtcbiAgICAgICAgICAgICAgICBpbXBvcnRlciguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBgJHtwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi9zcmMnKX1gXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb2R1bGVzOiB7XG4gICAgICAgICAgICBsb2NhbHNDb252ZW50aW9uOiAnY2FtZWxDYXNlJ1xuICAgICAgICB9XG4gICAgfSxcbiAgICBidWlsZDoge1xuICAgICAgICBhc3NldHNEaXI6ICdzcmMvYXNzZXRzJyxcbiAgICAgICAgc291cmNlbWFwOiB0cnVlLFxuICAgICAgICBtaW5pZnk6IGZhbHNlLFxuICAgICAgICBsaWI6IHtcbiAgICAgICAgICAgIGVudHJ5OiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnc3JjL2luZGV4LnRzJyksXG4gICAgICAgICAgICBuYW1lOiAnQGRyb3AtaW4tZ2FtaW5nL2NvcmUnLFxuICAgICAgICAgICAgZm9ybWF0czogWydlcycsICd1bWQnLCAnY2pzJ10sXG4gICAgICAgICAgICBmaWxlTmFtZTogKGZvcm1hdCkgPT4gZm9ybWF0ID09PSAnZXMnID8gYGNvcmUuJHtmb3JtYXR9LmpzeGAgOiBgY29yZS4ke2Zvcm1hdH0uanNgLFxuICAgICAgICB9LFxuICAgICAgICByb2xsdXBPcHRpb25zOiB7XG4gICAgICAgICAgICBleHRlcm5hbDogW1xuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHBrZy5wZWVyRGVwZW5kZW5jaWVzKVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgIGdsb2JhbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVhY3Q6ICdSZWFjdCcsXG4gICAgICAgICAgICAgICAgICAgICdyZWFjdC1kb20nOiAnUmVhY3RET00nLFxuICAgICAgICAgICAgICAgICAgICAnc3R5bGVkLWNvbXBvbmVudHMnOiAnc3R5bGVkJyxcbiAgICAgICAgICAgICAgICAgICAgYXhpb3M6ICdheGlvcycsXG4gICAgICAgICAgICAgICAgICAgICdheGlvcy1jYWNoZS1hZGFwdGVyJzogJ2F4aW9zLWNhY2hlLWFkYXB0ZXInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbWluaWZ5SW50ZXJuYWxFeHBvcnRzOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9XG59KTtcbiJdfQ==