"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const plugin_react_1 = __importDefault(require("@vitejs/plugin-react"));
const vite_plugin_svgr_1 = __importDefault(require("vite-plugin-svgr"));
const vite_1 = require("vite");
const vite_plugin_sass_dts_1 = __importDefault(require("vite-plugin-sass-dts"));
const vite_plugin_dts_1 = __importDefault(require("vite-plugin-dts"));
const vite_tsconfig_paths_1 = __importDefault(require("vite-tsconfig-paths"));
const pkg = require("./package.json");
// @ts-ignore
const path_1 = __importDefault(require("path"));
exports.default = (0, vite_1.defineConfig)({
    base: './',
    plugins: [
        (0, plugin_react_1.default)(),
        (0, vite_plugin_svgr_1.default)({
            svgrOptions: {
                exportType: 'named', jsxRuntime: 'automatic'
            }
        }),
        (0, vite_tsconfig_paths_1.default)(),
        (0, vite_plugin_sass_dts_1.default)({
            global: {
                generate: true,
                outFile: path_1.default.resolve("/Users/richardmiles/IdeaProjects/node-core/node_modules/@drop-in-gaming/core", "./src/style.d.ts"),
            },
        }),
        (0, vite_plugin_dts_1.default)({
            insertTypesEntry: true
        }),
    ],
    resolve: {
        alias: [
            {
                find: '@',
                replacement: path_1.default.resolve(__dirname, 'src')
            },
        ]
    },
    css: {
        preprocessorOptions: {
            scss: {
                importer(...args) {
                    return {
                        file: `${path_1.default.resolve(__dirname, './src')}`
                    };
                }
            }
        },
        modules: {
            localsConvention: 'camelCase'
        }
    },
    build: {
        assetsDir: 'src/assets',
        sourcemap: true,
        minify: false,
        lib: {
            entry: path_1.default.resolve(__dirname, 'src/index.ts'),
            name: '@drop-in-gaming/core',
            formats: ['es', 'umd', 'cjs'],
            fileName: (format) => format === 'es' ? `core.${format}.jsx` : `core.${format}.js`,
        },
        rollupOptions: {
            external: [
                ...Object.keys(pkg.peerDependencies)
            ],
            output: {
                globals: {
                    react: 'React',
                    'react-dom': 'ReactDOM',
                    'styled-components': 'styled',
                    axios: 'axios',
                    'axios-cache-adapter': 'axios-cache-adapter',
                },
                minifyInternalExports: false
            },
        },
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml0ZS5jb25maWcudHMiLCJzb3VyY2VzIjpbInZpdGUuY29uZmlnLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsd0VBQXlDO0FBQ3pDLHdFQUFvQztBQUNwQywrQkFBa0M7QUFDbEMsZ0ZBQTBDO0FBQzFDLHNFQUFrQztBQUNsQyw4RUFBZ0Q7QUFHaEQsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFFdEMsYUFBYTtBQUNiLGdEQUF3QjtBQUV4QixrQkFBZSxJQUFBLG1CQUFZLEVBQUM7SUFDeEIsSUFBSSxFQUFFLElBQUk7SUFDVixPQUFPLEVBQUU7UUFDTCxJQUFBLHNCQUFLLEdBQUU7UUFDUCxJQUFBLDBCQUFJLEVBQUM7WUFDRCxXQUFXLEVBQUU7Z0JBQ1QsVUFBVSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVzthQUMvQztTQUNKLENBQUM7UUFDRixJQUFBLDZCQUFhLEdBQUU7UUFDZixJQUFBLDhCQUFPLEVBQUM7WUFDSixNQUFNLEVBQUU7Z0JBQ0osUUFBUSxFQUFFLElBQUk7Z0JBQ2QsT0FBTyxFQUFFLGNBQUksQ0FBQyxPQUFPLENBQUMsOEVBQThFLEVBQUUsa0JBQWtCLENBQUM7YUFDNUg7U0FDSixDQUFDO1FBQ0YsSUFBQSx5QkFBRyxFQUFDO1lBQ0EsZ0JBQWdCLEVBQUUsSUFBSTtTQUN6QixDQUFDO0tBQ0w7SUFDRCxPQUFPLEVBQUU7UUFDTCxLQUFLLEVBQUU7WUFDSDtnQkFDSSxJQUFJLEVBQUUsR0FBRztnQkFDVCxXQUFXLEVBQUUsY0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDO2FBQzlDO1NBQ0o7S0FDSjtJQUNELEdBQUcsRUFBRTtRQUNELG1CQUFtQixFQUFFO1lBQ2pCLElBQUksRUFBRTtnQkFDRixRQUFRLENBQUMsR0FBRyxJQUFJO29CQUNaLE9BQU87d0JBQ0gsSUFBSSxFQUFFLEdBQUcsY0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7cUJBQzlDLENBQUM7Z0JBQ04sQ0FBQzthQUNKO1NBQ0o7UUFDRCxPQUFPLEVBQUU7WUFDTCxnQkFBZ0IsRUFBRSxXQUFXO1NBQ2hDO0tBQ0o7SUFDRCxLQUFLLEVBQUU7UUFDSCxTQUFTLEVBQUUsWUFBWTtRQUN2QixTQUFTLEVBQUUsSUFBSTtRQUNmLE1BQU0sRUFBRSxLQUFLO1FBQ2IsR0FBRyxFQUFFO1lBQ0QsS0FBSyxFQUFFLGNBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQztZQUM5QyxJQUFJLEVBQUUsc0JBQXNCO1lBQzVCLE9BQU8sRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDO1lBQzdCLFFBQVEsRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxNQUFNLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxNQUFNLEtBQUs7U0FDckY7UUFDRCxhQUFhLEVBQUU7WUFDWCxRQUFRLEVBQUU7Z0JBQ04sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQzthQUN2QztZQUNELE1BQU0sRUFBRTtnQkFDSixPQUFPLEVBQUU7b0JBQ0wsS0FBSyxFQUFFLE9BQU87b0JBQ2QsV0FBVyxFQUFFLFVBQVU7b0JBQ3ZCLG1CQUFtQixFQUFFLFFBQVE7b0JBQzdCLEtBQUssRUFBRSxPQUFPO29CQUNkLHFCQUFxQixFQUFFLHFCQUFxQjtpQkFDL0M7Z0JBQ0QscUJBQXFCLEVBQUUsS0FBSzthQUMvQjtTQUNKO0tBQ0o7Q0FDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVhY3QgZnJvbSAnQHZpdGVqcy9wbHVnaW4tcmVhY3QnO1xuaW1wb3J0IHN2Z3IgZnJvbSAndml0ZS1wbHVnaW4tc3Zncic7XG5pbXBvcnQge2RlZmluZUNvbmZpZ30gZnJvbSAndml0ZSc7XG5pbXBvcnQgc2Fzc0R0cyBmcm9tICd2aXRlLXBsdWdpbi1zYXNzLWR0cydcbmltcG9ydCBkdHMgZnJvbSAndml0ZS1wbHVnaW4tZHRzJztcbmltcG9ydCB0c2NvbmZpZ1BhdGhzIGZyb20gJ3ZpdGUtdHNjb25maWctcGF0aHMnO1xuXG5cbmNvbnN0IHBrZyA9IHJlcXVpcmUoXCIuL3BhY2thZ2UuanNvblwiKTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyh7XG4gICAgYmFzZTogJy4vJyxcbiAgICBwbHVnaW5zOiBbXG4gICAgICAgIHJlYWN0KCksXG4gICAgICAgIHN2Z3Ioe1xuICAgICAgICAgICAgc3Znck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBleHBvcnRUeXBlOiAnbmFtZWQnLCBqc3hSdW50aW1lOiAnYXV0b21hdGljJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgdHNjb25maWdQYXRocygpLFxuICAgICAgICBzYXNzRHRzKHtcbiAgICAgICAgICAgIGdsb2JhbDoge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG91dEZpbGU6IHBhdGgucmVzb2x2ZShcIi9Vc2Vycy9yaWNoYXJkbWlsZXMvSWRlYVByb2plY3RzL25vZGUtY29yZS9ub2RlX21vZHVsZXMvQGRyb3AtaW4tZ2FtaW5nL2NvcmVcIiwgXCIuL3NyYy9zdHlsZS5kLnRzXCIpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGR0cyh7XG4gICAgICAgICAgICBpbnNlcnRUeXBlc0VudHJ5OiB0cnVlXG4gICAgICAgIH0pLFxuICAgIF0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgICBhbGlhczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbmQ6ICdAJyxcbiAgICAgICAgICAgICAgICByZXBsYWNlbWVudDogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ3NyYycpXG4gICAgICAgICAgICB9LFxuICAgICAgICBdXG4gICAgfSxcbiAgICBjc3M6IHtcbiAgICAgICAgcHJlcHJvY2Vzc29yT3B0aW9uczoge1xuICAgICAgICAgICAgc2Nzczoge1xuICAgICAgICAgICAgICAgIGltcG9ydGVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IGAke3BhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICcuL3NyYycpfWBcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vZHVsZXM6IHtcbiAgICAgICAgICAgIGxvY2Fsc0NvbnZlbnRpb246ICdjYW1lbENhc2UnXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJ1aWxkOiB7XG4gICAgICAgIGFzc2V0c0RpcjogJ3NyYy9hc3NldHMnLFxuICAgICAgICBzb3VyY2VtYXA6IHRydWUsXG4gICAgICAgIG1pbmlmeTogZmFsc2UsXG4gICAgICAgIGxpYjoge1xuICAgICAgICAgICAgZW50cnk6IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdzcmMvaW5kZXgudHMnKSxcbiAgICAgICAgICAgIG5hbWU6ICdAZHJvcC1pbi1nYW1pbmcvY29yZScsXG4gICAgICAgICAgICBmb3JtYXRzOiBbJ2VzJywgJ3VtZCcsICdjanMnXSxcbiAgICAgICAgICAgIGZpbGVOYW1lOiAoZm9ybWF0KSA9PiBmb3JtYXQgPT09ICdlcycgPyBgY29yZS4ke2Zvcm1hdH0uanN4YCA6IGBjb3JlLiR7Zm9ybWF0fS5qc2AsXG4gICAgICAgIH0sXG4gICAgICAgIHJvbGx1cE9wdGlvbnM6IHtcbiAgICAgICAgICAgIGV4dGVybmFsOiBbXG4gICAgICAgICAgICAgICAgLi4uT2JqZWN0LmtleXMocGtnLnBlZXJEZXBlbmRlbmNpZXMpXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsczoge1xuICAgICAgICAgICAgICAgICAgICByZWFjdDogJ1JlYWN0JyxcbiAgICAgICAgICAgICAgICAgICAgJ3JlYWN0LWRvbSc6ICdSZWFjdERPTScsXG4gICAgICAgICAgICAgICAgICAgICdzdHlsZWQtY29tcG9uZW50cyc6ICdzdHlsZWQnLFxuICAgICAgICAgICAgICAgICAgICBheGlvczogJ2F4aW9zJyxcbiAgICAgICAgICAgICAgICAgICAgJ2F4aW9zLWNhY2hlLWFkYXB0ZXInOiAnYXhpb3MtY2FjaGUtYWRhcHRlcicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtaW5pZnlJbnRlcm5hbEV4cG9ydHM6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH1cbn0pO1xuIl19